\chapter{Problem Statement \& Analysis}\label{chap:analysis}

This chapter contains an analysis of the functionalities provided by the simulator and the accompanying helper files. The objective of this analysis is to provide a clear understanding of the requirements and functionalities that the simulator must fulfill, as well as the constraints and non-functional requirements that must be considered during its development.

To achieve this, we will define the user requirements, functional and non-functional requirements, and restrictions that the simulator must adhere to. Then, we will present a use case diagram that illustrates the interactions between the user and the simulator, as well as traceability matrices that link the requirements to the use cases and functionalities of the simulator.

\section{Project Description}
This project aims to create a suite of programs that implement a ray-tracer engine in multiple programming languages, including C++, Python and Go. The goal is creating the pipeline to benchmark the performance and energy efficiency of each implementation, in multiple-core and single-core configurations.

Each implementation has to be able to run on macOS and Linux, and the energy consumption evaluation of each benchmark must work on each platform, as not all platforms support the same energy consumption evaluation tools.\footnote{macOS uses \texttt{powermetrics} and Linux uses \texttt{perf} and a Raspberry Pi needs its power measured from the input source, as it does not have any internal counters} This project is only implemented to run on \glspl{cpu} as this projects' scope does not include \glspl{gpu}.


\section{Requirements}


The requirements for this project are divided into two main categories user requirements and program requirement. All of these requirements have been defined following the standard~\cite{requirements-engineering-iso}. 

To better organize the requirements, we will use the following abbreviations:

% Abbreviations used in this document:
\begin{description}
    \item[FN]  Functional
    \item[NF]  Non-Functional
\end{description}

\subsection{User Requirements}\label{sec:user-requirements}
This section describes the user requirements, those derived from the needs of the users of the end system. There are two main types of user requirements: capacity and restriction. The capacity requirements describe the functionalities that the user expects from the system, while the restriction requirements describe the constraints that the system must adhere to, defining the limitations of the system.

To better describe these requirements, we will use the format described in \autoref{tab:req-format-xx}.

\begin{table}[H]
    \centering
    \begin{tabular}{l p{10cm}}
        \toprule
        \multicolumn{2}{c}{\textbf{RY-XX}} \\
        \toprule
        \textbf{Name}               & Clear and concise title representing the functionality or constraint \\
        \textbf{Type}               & Functional / Non-Functional \\
        \textbf{Necessity}          & Optional / Essential / Desirable \\
        \textbf{Priority}           & Low / Medium / High \\
        \textbf{Complexity}         & Low / Medium / High \\
        \textbf{Description}        & Brief description of the requirement \\
        \bottomrule
    \end{tabular}
\caption{Requirement format template}\label{tab:req-format-xx}
\end{table}

\begin{itemize}
    \item \textbf{Identifier}: code that identifies the requirement, following the schema \textit{RY-XX}, where `Y' is the type of requirement (`F' for Functional, `NF' for Non-Functional) and `XX' is a two-digit number that identifies the requirement.
    \item \textbf{Name}: clear and concise title, representing the functionality or constraint of the requirement.
    \item \textbf{Type}: indicates the type of the requirement, which can be functional or non-functional.
    \item \textbf{Necessity}: 
        \begin{itemize}
            \item \textit{Optional}: the requirement is not essential for the system to function, but it would be nice to have.
            \item \textit{Essential}: the requirement is necessary for the system to function.
            \item \textit{Desirable}: the requirement is not essential, but it would be beneficial for the user.
        \end{itemize}
    \item \textbf{Priority}: indicates the importance or urgency of the requirement, which can be low, medium or high.
    \item \textbf{Complexity}: establishes the level of effort required to implement the requirement, which can be low, medium or high.
    \item \textbf{Description}: a brief description of the requirement.
\end{itemize}


\subsubsection{Functional requirements}

\input{parts/requirements/functional.tex}

\subsection{Non-Functional requirements}

\input{parts/requirements/non-functional.tex}


\section{Use Case}\label{sec:use-case}

This section describes the use cases of the system. The use cases are represented in a diagram that shows the interactions between the user and the system. 

We have many use cases, each representing a specific functionality of the system. As this is a discrete system, we have one use case per benchmark that can be run. This can be seen in \autoref{fig:use-case-v2}

\input{parts/diagrams/use-case.tex}

Use case template:

\begin{table}[H]
    \centering
    \begin{tabular}{l p{10cm}}
        \toprule
        \multicolumn{2}{c}{\textbf{ID:\@ UC-XX}} \\
        \toprule
        \textbf{Name}               &  The name of the use case inside the diagram. \\
        \textbf{Actors}             &  User, System \\
        \textbf{Objective}          &  Brief description of the goal of the use case. \\
        \textbf{Description}        &  Steps the actor has to entail. \\
        \textbf{Preconditions}      &  The user has the system installed and configured. \\
        \textbf{Postconditions}     &  The benchmarks are executed, and the results are stored. \\
    \end{tabular}
    \caption{Use Case UC-XX}\label{tab:uc-xx}
\end{table}

\begin{itemize}
    \item \textbf{ID}: code that identifies the use case, following the schema \textit{UC-XX}, where `XX' is a two-digit number that identifies the use case.
    \item \textbf{Name}: the name of the use case inside the diagram.
    \item \textbf{Actors}: entities that interact with the system.
    \item \textbf{Objective}: brief description of the goal of the use case.
    \item \textbf{Description}: steps the actor has to entail to achieve the objective of the use case.
    \item \textbf{Preconditions}: conditions that must be met before the use case can be executed.
    \item \textbf{Postconditions}: conditions that must be met after the use case is executed.
\end{itemize}


\begin{table}[H]
    \centering
    \begin{tabular}{l p{10cm}}
        \toprule
        \multicolumn{2}{c}{\textbf{ID:\@ UC-01}} \\
        \toprule
        \textbf{Name}               &  Generate Image \\
        \textbf{Actors}             &  User \\
        \textbf{Objective}          &  Generate a rendered image using the ray-tracer engine with the selected configuration. \\
        \textbf{Description}        & \textsl{1.} The user downloads the code repository. \\
                                   & \textsl{2.} The user sets the number of cores to use for rendering (CORES=<num>). \\
                                   & \textsl{3.} The user selects the platform (SERVER / macOS / RPI). \\
                                   & \textsl{4.} The user executes the command to generate the image. \\
                                   & \textsl{5.} The system processes the scene and outputs the rendered image file. \\
        \textbf{Preconditions}      &  The code repository has been downloaded. The number of cores and platform have been set. \\
        \textbf{Postconditions}     &  The rendered image is generated and stored in the output directory. \\
    \end{tabular}
    \caption{Use Case UC-01}\label{tab:uc-01}
\end{table}

\begin{table}[H]
    \centering
    \begin{tabular}{l p{10cm}}
        \toprule
        \multicolumn{2}{c}{\textbf{ID:\@ UC-02}} \\
        \toprule
        \textbf{Name}               &  Edit Scene file \\
        \textbf{Actors}             &  User \\
        \textbf{Objective}          &  Edit the scene file to change the parameters of the scene to be rendered. \\
        \textbf{Description}        & \textsl{1.} The user opens the scene file in a text editor. \\
                                   & \textsl{2.} The user modifies the parameters of the scene, such as camera position, light sources, and objects. \\
                                   & \textsl{3.} The user saves the changes to the scene file. \\
                                   & \textsl{4.} The user can repeat the process to make further changes to the scene file. \\
        \textbf{Preconditions}      &  The scene file is accessible and editable. \\
        \textbf{Postconditions}     &  The scene file is updated with the new parameters. \\
    \end{tabular}
    \caption{Use Case UC-02}\label{tab:uc-02}
\end{table} 

\begin{table}
    \centering
    \begin{tabular}{l p{10cm}}
        \toprule
        \multicolumn{2}{c}{\textbf{ID:\@ UC-03}} \\
        \toprule
        \textbf{Name}               &  Set Cores to be used \\
        \textbf{Actors}             &  User \\
        \textbf{Objective}          &  Set the number of cores to be used for rendering the image. \\
        \multirow{1}{*}{\textbf{Description}} & \textsl{1.} The user opens the configuration file.\\
                                             & \textsl{2.} The user sets the number of cores to be used for rendering (CORES=<num>).\\
                                             & \textsl{3.} The user saves the changes to the configuration file.\\
        \textbf{Preconditions}      &  The configuration file is accessible and editable. \\
        \textbf{Postconditions}     &  The configuration file is updated with the new number of cores. \\
    \end{tabular}
    \caption{Use Case UC-03}\label{tab:uc-03}
\end{table}


\begin{table}[H]
    \centering
    \begin{tabular}{l p{10cm}}
        \toprule
        \multicolumn{2}{c}{\textbf{ID:\@ UC-04}} \\
        \toprule
        \textbf{Name}               &  Select Programming Language \\
        \textbf{Actors}             &  User \\
        \textbf{Objective}          &  Choose the programming language (Python, C++, or Go) for the ray-tracer execution. \\
        \textbf{Description}        & \textsl{1.} The user reviews the available implementations. \\
                                   & \textsl{2.} The user selects the desired programming language (Python, C++, or Go). \\
                                   & \textsl{3.} The user ensures the required dependencies for the selected language are installed. \\
                                   & \textsl{4.} The user proceeds to execute the benchmark or rendering task using the chosen implementation. \\
        \textbf{Preconditions}      &  All language implementations are available and properly installed. \\
        \textbf{Postconditions}     &  The selected language implementation is used for subsequent operations. \\
    \end{tabular}
    \caption{Use Case UC-04}\label{tab:uc-04}
\end{table}



\section{Traceability}

This section provides a traceability matrix that maps the requirements to the use cases. The matrix is designed to ensure that all requirements are addressed by the use cases defined in this document.

It can be seen in \autoref{tab:traceability-matrix-ur} that all requirements are covered by the use cases, ensuring that the system meets the specified needs and in the following table \autoref{tab:traceability-matrix-fn} the functional and non-functional requirements are mapped to the use cases.

\begin{landscape}

\begin{table}[t]
    \centering
    \begin{tabular}{|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|}
        \hline
        \textbf{Requirement} & \rotatebox{65}{\textbf{UC-01}} & \rotatebox{65}{\textbf{UC-02}} & \rotatebox{65}{\textbf{UC-02.}1} & \rotatebox{65}{\textbf{UC-02.}2} & \rotatebox{65}{\textbf{UC-03}} & \rotatebox{65}{\textbf{UC-03.}1} & \rotatebox{65}{\textbf{UC-03.}2} & \rotatebox{65}{\textbf{UC-04}} & \rotatebox{65}{\textbf{UC-04.}1} & \rotatebox{65}{\textbf{UC-04.}2} & \rotatebox{65}{\textbf{UC-05}} & \rotatebox{65}{\textbf{UC-05.}1} & \rotatebox{65}{\textbf{UC-05.}2} & \rotatebox{65}{\textbf{UC-06}} & \rotatebox{65}{\textbf{UC-07}} \\
        \hline
        RF-01 & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark \\
        \hline
        UR-CA-02 &            &            &            &            &            &            &            &            &            &            &            &            &            &            &            \\
        \hline
        UR-CA-03 & \checkmark &            &            &            &            &            &            &            &            &            &            &            &            &            &            \\
        \hline
        UR-CA-04 & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark \\
        \hline
        UR-CA-05 & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark \\
        \hline
        %% Multic-core
        UR-CA-06 & \checkmark & \checkmark &            & \checkmark & \checkmark &            & \checkmark & \checkmark &            & \checkmark & \checkmark &            & \checkmark &            & \checkmark \\
        \hline
        UR-CA-07 & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark \\
        \hline
        UR-CA-08 & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark \\
        \hline
        UR-CA-09 & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark \\
        \hline
        UR-CA-10 & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark \\
        \hline
        UR-CA-11 & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark \\
        \hline
        UR-CA-12 &            &            &            &            &            &            &            &            &            &            &            &            &            &            &            \\
        \hline
        UR-CA-13 & \checkmark & \checkmark &            & \checkmark & \checkmark &            & \checkmark & \checkmark &            & \checkmark & \checkmark &            & \checkmark &            & \checkmark \\
        \hline
        UR-CA-14 & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark \\
        \hline
        UR-CA-15 & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark \\
        \hline
        UR-CA-16 &            &            & \checkmark & \checkmark &            & \checkmark & \checkmark &            & \checkmark & \checkmark &            & \checkmark & \checkmark &            &            \\
        \hline
        UR-CA-17 &            & \checkmark &            &            & \checkmark &            &            & \checkmark &            &            & \checkmark &            &            &            &            \\
        \hline
        UR-RE-01 & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark \\
        \hline
        UR-RE-02 &            & \checkmark &            &            & \checkmark &            &            & \checkmark &            &            & \checkmark &            &            &            &            \\
        \hline

    \end{tabular}
\caption{Traceability matrix (for UC-CA \& UC-RE requirement)}\label{tab:traceability-matrix-ur}
\end{table}


\begin{table}
    \centering
    \begin{tabular}{|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c|c}
        \hline
        \textbf{Requirement} & \rotatebox{65}{\textbf{UC-01}} & \rotatebox{65}{\textbf{UC-02}} & \rotatebox{65}{\textbf{UC-02.}1} & \rotatebox{65}{\textbf{UC-02.}2} & \rotatebox{65}{\textbf{UC-03}} & \rotatebox{65}{\textbf{UC-03.}1} & \rotatebox{65}{\textbf{UC-03.}2} & \rotatebox{65}{\textbf{UC-04}} & \rotatebox{65}{\textbf{UC-04.}1} & \rotatebox{65}{\textbf{UC-04.}2} & \rotatebox{65}{\textbf{UC-05}} & \rotatebox{65}{\textbf{UC-05.}1} & \rotatebox{65}{\textbf{UC-05.}2} & \rotatebox{65}{\textbf{UC-06}} & \rotatebox{65}{\textbf{UC-07}} \\
        \hline
        SR-NF-01 & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark \\
        \hline
        SR-NF-02 & \checkmark &            &            &            &            &            &            &            &            &            &            &            &            &            &            \\
        \hline
        SR-NF-03 & \checkmark & \checkmark & \checkmark & \checkmark &            &            &            &            &            &            &            &            &            &            &            \\
        \hline
        SR-NF-04 & \checkmark &            &            &            & \checkmark & \checkmark & \checkmark &            &            &            &            &            &            &            &            \\
        \hline
        SR-NF-05 & \checkmark &            &            &            &            &            &            & \checkmark & \checkmark & \checkmark &            &            &            &            &            \\
        \hline
        SR-NF-06 & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark \\
        \hline
        SR-NF-07 & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark \\
        \hline
        SR-NF-08 & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark \\
        \hline
        %% functional requirements
        SR-FN-01 & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark \\
        \hline
        SR-FN-02 & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark \\
        \hline
        SR-FN-03 & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark \\
        \hline
        SR-FN-04 & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark \\
        \hline
        SR-FN-05 & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark \\
        \hline
        SR-FN-06 & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark \\
        \hline
        SR-FN-07 & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark \\
        \hline
        SR-FN-08 & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark \\
        \hline
        SR-FN-09 &            &            &            &            &            &            &            &            &            &            &            &            &            &            &            \\
        \hline
        SR-FN-10 & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark \\
        \hline
        SR-FN-11 & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark \\
        \hline

    \end{tabular}
    \caption{Traceability matrix (for functional \& non-functional requirements)}\label{tab:traceability-matrix-fn}
\end{table}

\end{landscape}
